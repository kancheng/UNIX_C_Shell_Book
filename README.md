# UNIX_C_Shell_Book

## 整理者

自己最早接觸 Linux 是在 2015 年龍華資訊管理系選修 Linux 系統管理與實作的課程，同時也成為了該課堂的學生助教，該課的授課教師後來也是筆者自己直升龍華資訊管理碩士的導師。

當時為了磨練能力，翻閱鳥哥 (Vbird) 的書籍與網站，當時發現鳥哥將此站整站備份，因為是助教之故，利用當下的空檔時間進行整理。存放至龍華科技大學的 Google Driver 上。當時自己還並不會 Git 版本控制，寫程式的能力也並不理想。

2022 年後再回首，自己經歷過龍華資訊管理碩士的資料分析，一年的義務役士官教育班長，兩年在留學顧問公司的資訊部門的前後端開發、申請上北京大學信息工程學院等經歷。自己或許算是可以好好面對自己能力。

藉著 Google Driver 雲端政策的改變，自己再度整理成 Markdown，並找出相對應的說明，重新放在 GitHub 上。

干皓丞 2022/3/15 於北京大學深圳研究生院


## UNIX C Shell

網路農夫 黃天彥 著


## 種田人的話

這份文件記錄了我一部份學習 UNIX OS 所得的些許微不足道的個人經驗。所以本文的水平稱不上是一份專業、嚴謹的作品。如有網友發現本文有任何的謬誤，請務必來信指證錯誤所在，以免效果適
得其反。

本份文件由於筆者的慵懶，所以尚未完成的部分，建構的速度慢的離奇。文中的第二、三、四篇是在五年多以前完成的，第一篇則經過幾度的重寫，至今尚在陸續搜尋資料完成中...至於第五篇，總覺得用的上的機會已經不大...第六篇，實際上也是草稿份量最大的一個部分，但總覺得撰寫 Shell Script 不應該在使用 C shell，所以至今尚未發表過，這大致上就是這份文件的過往與現況。至於本人由於工作性質的轉變，幾乎已經不再使用 UNIX OS，手上的幾台 SUN 工作站也早已經塵封多時，所以文件的進度也等於停擺了。

儘管如此，我還是會利用空閒的空閒之餘，讓本文能有個告一段落的完整性的。至少我是如此地期許自己。當然，我更期望能在網路上看見我同文同種的同胞能有更多無私的心得交流。
即使今日....

我已接受這世界的現實...
但我卻尚未捨棄心中的理想...

因為

虛幻是存在的.

網路農夫-黃天彥 2001/04/12

> Copyright ©2000 
> 本文作者允許任何人以各種方式自由拷貝傳播本文之部份或全部内容,唯上述之行為均不得涉及商業利益,且本版權明必須存在每份拷貝之中。
> 其他未及詳述之版標明以自由軟體基金會(FreSoftware Foundation)之 GPL (General Public License)為依循根據
> 黄天彥


## 目錄

I.緣起-一場浮士德的交易

第一篇 UNIX 系統簡介

1-1 UNIX 簡史

1-1-1 先前的一個理想

1-1-2 一個遊戲的開始

1-1-3 初期的自由發展

1-1-4 走出貝爾實驗室

1-1-5 一個穩定的基石

1-1-6 一個重要的延續與發展 -- BSD UNIX

1-1-7 UNIX 與 DARPA 交會

1-1-8 商業化的不平坦歷程 -- UNIX 版本的戰爭

1-1-09 讓 UNIX 自由 -- Networking Release 2

1-1-10 誰是"老大哥" -- 版權訴訟

1-1-11 GNU 計劃 -- 開啟了新大道

第二篇 認識 SHELL

2-1 SHELL 是什麼？

2-2 三個主要的 SHELL

2-3 C SHELL 的運用面

第三篇 C SHELL 的基本運用

3-1 在 C SHELL 下 的指令運用

3-2 輸入 / 輸出重導向

3-3 檔名擴展的運用

3-4 管線的觀念與運用

3-5 History 的設定與運用

3-6 別名的設定與運用

3-7 工作控制的運用

3-7-1 前景工作（foreground jobs）

3-7-2 背景工作（background jobs）

3-7-3 背景工作的控制管理

3-7-4 關於背景工作使用的注意事項

3-8 C SHELL 的內建指令

3-8-1 umask 指令

3-8-2 exit 指令

3-8-3 source 指令

3-8-4 limit, unlimit 指令

3-8-5 dirs 指令

3-8-6 echo 指令

3-8-7 time 指令

3-8-8 nice 指令

3-8-9 rehash, unhash, hashstat 指令

3-8-10 exec 指令

3-8-11 eval 指令

3-8-12 repeat 指令

3-8-13 pushd, popd 指令

3-9 引號的運用與指令的關係

3-9-1 單引號（ ' ）的運用（single-quotes）

3-9-2 雙引號（ " ）的運用（double-quotes）

3-9-3 倒引號（ \` ）的運用（backquote）

3-9-4 倒斜線“ \ ”的運用（backslash）

第四篇 C SHELL 變數的整體介紹

4-1 環境變數的設定影響（Environment Variables）

4-1-1 PATH 環境變數

4-1-2 環境變數 HOME 與預設變數 home

4-1-3 環境變數 SHELL 與預設變數 shell

4-1-4 LOGNAME 與 USER 環境變數

4-1-5 環境變數 MAIL 與預設變數 mail

4-1-6 EXINIT 環境變數

4-1-7 TERM 環境變數

4-2 預設變數的設定影響 （Predefined Variables）

4-2-1 path 指令搜尋路徑變數

4-2-2 cdpath 改變工作目錄搜尋路徑變數

4-2-3 prompt 提詞變數

4-2-4 history 儲存指令使用記錄變數

4-2-5 histchars 指令使用記錄之特殊符號變數

4-2-6 savehist 指令使用記錄檔案儲存變數

4-2-7 time 執行時間變數

4-2-8 echo 與 verbose 指令顯示變數

4-2-9 status 執行狀態變數

4-2-10 cwd 目前工作目錄變數

4-2-11 hardpaths 實體路徑變數

4-2-12 ignoreeof 忽略使用 eof 退出變數

4-2-13 noclobber 禁止覆寫變數

4-2-14 noglob 變數

4-2-15 nonomatch 變數

4-2-16 notify 變數

4-2-17 filec 檔名自動續接變數

4-2-18 fignore 變數

4-2-19 nobeep 不准叫變數

第五篇 製定 C SHELL 的使用環境

5-1 login 的型態與起始檔案讀取的關係

參考資料

## I.緣起-一場浮士德的交易

I went to the woods because I wished to live deliberately,
to front only the essential facts of life,
and see if I could not learn what it had to teach,
and not,
when I came to die,
discover that I had not lived.

Henry David Thoreau1817-1862
Walden [1854] ,†2, Where I Lived, and What I Lived For

這是梭羅在他的著作"湖濱散記"裡一段令我相當心折的文句，也是觸使我開始寫這份文件的理由。

記得剛接觸 UNIX 時，我連目錄（directory）是什麼都搞不清楚，由於工作上的需要，開始努力一點一滴地去學習當時我認為是巨大怪物的 UNIX Operation System。慢慢地，她變成了在工作中最吸引我的一部份。

到如今，我還記得第一次接觸 UNIX 那整夜慘痛的經驗，當時我是一個 IC Layout 工程師，那一天下班後，一個人逛到書店買了這輩子第一本關於電腦的書，又一個人回到已經沒有人
的辦公室坐在 SUN workstation 前面，一面看著有看但實在是沒有懂的 vi 篇，開始編輯我在 UNIX OS 上的第一個檔案，幾個小時過去，當檔案確定編輯完成後，我滿足地在空無一人的辦公室
內，燃起一根紙煙。看著隨著生命的氣息所散布在空中的白色煙霧，感覺自己似乎已經完成了一件了不起的事。當抽完一根再燃上一根回到電腦前時，我呆了…… 那一夜沒有睡覺的我置身在白色的生
命煙霧中。也於是乎開始了一場我與魔鬼的交易。


1-1 UNIX 簡史

1-1-1 先前的一個理想

UNIX 系統自 1969 年 Ken ThompsonKen Thompson 與 Dennis RitchieDennis Ritchie 在美國貝爾電話實驗室（Bell Telephone Laboratories）發展出雛形至今，已歷經近 30 年。而 "UNIX" 這個字典上查不到其原意的怪字，其實是戲謔 MULTICS（MULTiplexed Information and Computing System）作業系統的大而無當所產生的諧音字。

在 1957 年 10 月，前蘇聯發射了第一枚人造衛星，此舉讓當時的美國總統艾森豪決定投下巨額的經費用以支援及發展科學，美國高等研究計劃署(ARPA, Advanced Research Projects Agency)便是在這個時空下設立了，該單位負責推動系統發展等相關計畫，成為當時美國電子計算機發展的重要推手。

J.C.R. Licklider1960 年代是大型電腦的發展年代，當時的麻省理工學院因最先實現了相容分時系統 (CTSS, Compatible Time-Sharing System)，在電子計算機領域享有相當崇高的地位。

1963 年，麻省理工的里克萊德 (J. C. R. Licklider, 1915~1990) 推動了 MAC 計畫，MAC 以 IBM 的大型電腦做為主體，連接了將近 160 台終端機，這些終端機就四散在學區以及教職員的家中，可讓 30 位使用者同時共享電腦的資源。


這項計畫到了 1965 年便不堪負荷，於是麻省理工便決定開發更大型的分時電腦系統。新的計畫便是 -- MULTICS，一個電腦史上最為龐大的分時電腦系統，企圖連接 1000 部終端機，支援 300 的使用者同時上線的分時電腦系統。她面臨的是，作業系統的分時觀念還在各學術與研究機構中探索成形，電腦硬體亦需重新設計修改的雙重挑戰。

當時麻省理工原本想找 IBM 配合這項計畫，但 IBM 正忙著應付自己的問題而無意配合 MULTICS 計畫。此時，通用電子公司（General Electric Company）也就是奇異公司正好在發展自己的大型主機，見機不可失，便極力邀請麻省理工參予她們的 GE 645 大型主機的規格制定。有了奇異熱心主動的電腦硬體配合，麻省理工找上的不能販售電腦卻人才濟濟的貝爾電話實驗室來負責承包軟體工程。於是乎，MULTICS 的計畫便在 1965 年由麻省理工學院、奇異公司及貝爾電話實驗室這三個成員開始共同發展。